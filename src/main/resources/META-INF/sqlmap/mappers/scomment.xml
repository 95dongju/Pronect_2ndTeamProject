<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.google.pronect.dao.SCommentDao">
	<resultMap type="SComment" id="SCommentResult">
		<result property="scid" column="scid"/>
		<result property="mid" column="mid"/>
		<result property="sccontent" column="sccontent"/>
		<result property="scip" column="scip"/>
		<result property="scrdate" column="scrdate"/>
		<result property="sid" column="sid"/>
	</resultMap>
	<insert id="comment" parameterType="SComment">
		INSERT INTO SCOMMENT (SCID, MID, SCCONTENT, SCIP, SID)
            VALUES(SCOMMENT_SEQ.NEXTVAL, #{mid}, #{sccontent}, #{scip}, #{sid})
 	  <selectKey resultType="Integer" keyProperty="scid" order="AFTER">
  		SELECT MAX(SCID) FROM SCOMMENT
  	</selectKey>
	</insert>
	<select id="commentContent" parameterType="int" resultMap="SCommentResult">
		SELECT * FROM SCOMMENT WHERE SID = #{sid}
	</select>
	<update id="commentModify" parameterType="SComment">
		UPDATE SCOMMENT SET SCCONTENT = #{sccontent} WHERE SCID = #{scid}
	</update>
	<delete id="commentDelete" parameterType="int">
		DELETE SCOMMENT WHERE SCID = #{scid}
	</delete>
</mapper>